Job 2607826 started on:    g7
Job 2607826 started on:    Mon Apr 8 12:01:45 PDT 2024
 
cellbender:remove-background: Command:
cellbender remove-background --input /u/home/j/jshin/scratch/medial_septum_sct/Data/Raw/Counts/TriSeptum-3/outs/raw_feature_bc_matrix.h5 --output TriSeptum-3.h5 --cuda
cellbender:remove-background: CellBender 0.3.0
cellbender:remove-background: (Workflow hash 100b8268d3)
cellbender:remove-background: 2024-04-08 12:01:54
cellbender:remove-background: Running remove-background
cellbender:remove-background: Loading data from /u/home/j/jshin/scratch/medial_septum_sct/Data/Raw/Counts/TriSeptum-3/outs/raw_feature_bc_matrix.h5
cellbender:remove-background: CellRanger v3 format
cellbender:remove-background: Features in dataset: 32285 Gene Expression
cellbender:remove-background: Trimming features for inference.
cellbender:remove-background: 26273 features have nonzero counts.
cellbender:remove-background: Prior on counts for cells is 5387
cellbender:remove-background: Prior on counts for empty droplets is 804
cellbender:remove-background: Excluding 4474 features that are estimated to have <= 0.1 background counts in cells.
cellbender:remove-background: Including 21799 features in the analysis.
cellbender:remove-background: Trimming barcodes for inference.
cellbender:remove-background: Excluding barcodes with counts below 402
cellbender:remove-background: Using 2527 probable cell barcodes, plus an additional 10165 barcodes, and 73487 empty droplets.
cellbender:remove-background: Largest surely-empty droplet has 1085 UMI counts.
cellbender:remove-background: Attempting to unpack tarball "ckpt.tar.gz" to /work/2607826.2.gpu_RTX2080Ti.q/tmpo2bw5c1m
cellbender:remove-background: Successfully unpacked tarball to /work/2607826.2.gpu_RTX2080Ti.q/tmpo2bw5c1m
/work/2607826.2.gpu_RTX2080Ti.q/tmpo2bw5c1m/100b8268d3_args.npy
/work/2607826.2.gpu_RTX2080Ti.q/tmpo2bw5c1m/100b8268d3_model.torch
/work/2607826.2.gpu_RTX2080Ti.q/tmpo2bw5c1m/100b8268d3_train.loaderstate
/work/2607826.2.gpu_RTX2080Ti.q/tmpo2bw5c1m/100b8268d3_random.cuda
/work/2607826.2.gpu_RTX2080Ti.q/tmpo2bw5c1m/100b8268d3_optim.torch
/work/2607826.2.gpu_RTX2080Ti.q/tmpo2bw5c1m/100b8268d3_random.pyro
/work/2607826.2.gpu_RTX2080Ti.q/tmpo2bw5c1m/100b8268d3_test.loaderstate
/work/2607826.2.gpu_RTX2080Ti.q/tmpo2bw5c1m/100b8268d3_optim.pyro
/work/2607826.2.gpu_RTX2080Ti.q/tmpo2bw5c1m/100b8268d3_params.pyro
cellbender:remove-background: Loaded partially-trained checkpoint from ckpt.tar.gz
cellbender:remove-background: Checkpoint loaded successfully.
cellbender:remove-background: Running inference...
cellbender:remove-background: 2024-04-08 12:02:33
cellbender:remove-background: Inference procedure complete.
cellbender:remove-background: Attempting to unpack tarball "ckpt.tar.gz" to /work/2607826.2.gpu_RTX2080Ti.q/tmpow_6bcz2
cellbender:remove-background: Successfully unpacked tarball to /work/2607826.2.gpu_RTX2080Ti.q/tmpow_6bcz2
/work/2607826.2.gpu_RTX2080Ti.q/tmpow_6bcz2/100b8268d3_args.npy
/work/2607826.2.gpu_RTX2080Ti.q/tmpow_6bcz2/100b8268d3_model.torch
/work/2607826.2.gpu_RTX2080Ti.q/tmpow_6bcz2/100b8268d3_train.loaderstate
/work/2607826.2.gpu_RTX2080Ti.q/tmpow_6bcz2/100b8268d3_random.cuda
/work/2607826.2.gpu_RTX2080Ti.q/tmpow_6bcz2/100b8268d3_optim.torch
/work/2607826.2.gpu_RTX2080Ti.q/tmpow_6bcz2/100b8268d3_random.pyro
/work/2607826.2.gpu_RTX2080Ti.q/tmpow_6bcz2/100b8268d3_test.loaderstate
/work/2607826.2.gpu_RTX2080Ti.q/tmpow_6bcz2/100b8268d3_optim.pyro
/work/2607826.2.gpu_RTX2080Ti.q/tmpow_6bcz2/100b8268d3_params.pyro
cellbender:remove-background: Posterior not currently included in checkpoint.
cellbender:remove-background: Computing posterior noise count probabilities in mini-batches.
cellbender:remove-background: Working on chunk (1/98)
cellbender:remove-background:     [0.04 mins per chunk]
cellbender:remove-background: Working on chunk (2/98)
cellbender:remove-background: Working on chunk (3/98)
cellbender:remove-background: Working on chunk (4/98)
cellbender:remove-background: Working on chunk (5/98)
cellbender:remove-background: Working on chunk (6/98)
cellbender:remove-background: Working on chunk (7/98)
cellbender:remove-background: Working on chunk (8/98)
cellbender:remove-background: Working on chunk (9/98)
cellbender:remove-background: Working on chunk (10/98)
cellbender:remove-background: Working on chunk (11/98)
cellbender:remove-background: Working on chunk (12/98)
cellbender:remove-background: Working on chunk (13/98)
cellbender:remove-background: Working on chunk (14/98)
cellbender:remove-background: Working on chunk (15/98)
cellbender:remove-background: Working on chunk (16/98)
cellbender:remove-background: Working on chunk (17/98)
cellbender:remove-background: Working on chunk (18/98)
cellbender:remove-background: Working on chunk (19/98)
cellbender:remove-background: Working on chunk (20/98)
cellbender:remove-background: Working on chunk (21/98)
cellbender:remove-background: Working on chunk (22/98)
cellbender:remove-background: Working on chunk (23/98)
cellbender:remove-background: Working on chunk (24/98)
cellbender:remove-background: Working on chunk (25/98)
cellbender:remove-background: Working on chunk (26/98)
cellbender:remove-background: Working on chunk (27/98)
cellbender:remove-background: Working on chunk (28/98)
cellbender:remove-background: Working on chunk (29/98)
cellbender:remove-background: Working on chunk (30/98)
cellbender:remove-background: Working on chunk (31/98)
cellbender:remove-background: Working on chunk (32/98)
cellbender:remove-background: Working on chunk (33/98)
cellbender:remove-background: Working on chunk (34/98)
cellbender:remove-background: Working on chunk (35/98)
cellbender:remove-background: Working on chunk (36/98)
cellbender:remove-background: Working on chunk (37/98)
cellbender:remove-background: Working on chunk (38/98)
cellbender:remove-background: Working on chunk (39/98)
cellbender:remove-background: Working on chunk (40/98)
cellbender:remove-background: Working on chunk (41/98)
cellbender:remove-background: Working on chunk (42/98)
cellbender:remove-background: Working on chunk (43/98)
cellbender:remove-background: Working on chunk (44/98)
cellbender:remove-background: Working on chunk (45/98)
cellbender:remove-background: Working on chunk (46/98)
cellbender:remove-background: Working on chunk (47/98)
cellbender:remove-background: Working on chunk (48/98)
cellbender:remove-background: Working on chunk (49/98)
cellbender:remove-background: Working on chunk (50/98)
cellbender:remove-background: Working on chunk (51/98)
cellbender:remove-background: Working on chunk (52/98)
cellbender:remove-background: Working on chunk (53/98)
cellbender:remove-background: Working on chunk (54/98)
cellbender:remove-background: Working on chunk (55/98)
cellbender:remove-background: Working on chunk (56/98)
cellbender:remove-background: Working on chunk (57/98)
cellbender:remove-background: Working on chunk (58/98)
cellbender:remove-background: Working on chunk (59/98)
cellbender:remove-background: Working on chunk (60/98)
cellbender:remove-background: Working on chunk (61/98)
cellbender:remove-background: Working on chunk (62/98)
cellbender:remove-background: Working on chunk (63/98)
cellbender:remove-background: Working on chunk (64/98)
cellbender:remove-background: Working on chunk (65/98)
cellbender:remove-background: Working on chunk (66/98)
cellbender:remove-background: Working on chunk (67/98)
cellbender:remove-background: Working on chunk (68/98)
cellbender:remove-background: Working on chunk (69/98)
cellbender:remove-background: Working on chunk (70/98)
cellbender:remove-background: Working on chunk (71/98)
cellbender:remove-background: Working on chunk (72/98)
cellbender:remove-background: Working on chunk (73/98)
cellbender:remove-background: Working on chunk (74/98)
cellbender:remove-background: Working on chunk (75/98)
cellbender:remove-background: Working on chunk (76/98)
cellbender:remove-background: Working on chunk (77/98)
cellbender:remove-background: Working on chunk (78/98)
cellbender:remove-background: Working on chunk (79/98)
cellbender:remove-background: Working on chunk (80/98)
cellbender:remove-background: Working on chunk (81/98)
cellbender:remove-background: Working on chunk (82/98)
cellbender:remove-background: Working on chunk (83/98)
cellbender:remove-background: Working on chunk (84/98)
cellbender:remove-background: Working on chunk (85/98)
cellbender:remove-background: Working on chunk (86/98)
cellbender:remove-background: Working on chunk (87/98)
cellbender:remove-background: Working on chunk (88/98)
cellbender:remove-background: Working on chunk (89/98)
cellbender:remove-background: Working on chunk (90/98)
cellbender:remove-background: Working on chunk (91/98)
cellbender:remove-background: Working on chunk (92/98)
cellbender:remove-background: Working on chunk (93/98)
cellbender:remove-background: Working on chunk (94/98)
cellbender:remove-background: Working on chunk (95/98)
cellbender:remove-background: Working on chunk (96/98)
cellbender:remove-background: Working on chunk (97/98)
cellbender:remove-background: Working on chunk (98/98)
cellbender:remove-background: Writing full posterior to TriSeptum-3_posterior.h5
cellbender:remove-background: Succeeded in writing posterior to file TriSeptum-3_posterior.h5
cellbender:remove-background: Added posterior object to checkpoint file.
cellbender:remove-background: 2024-04-08 12:09:41

cellbender:remove-background: Saved summary plots as TriSeptum-3.pdf
cellbender:remove-background: Saved cell barcodes in TriSeptum-3_cell_barcodes.csv
cellbender:remove-background: Computing target noise counts per gene for MCKP estimator
cellbender:remove-background: Using MCKP noise targets computed for FPR 0.01
cellbender:remove-background: Computing denoised counts using mckp estimator
cellbender:remove-background: Working on chunk (1/6)
cellbender:remove-background:     [2.17 mins per chunk]
cellbender:remove-background: Working on chunk (2/6)
cellbender:remove-background: Working on chunk (3/6)
cellbender:remove-background: Working on chunk (4/6)
cellbender:remove-background: Working on chunk (5/6)
cellbender:remove-background: Working on chunk (6/6)
cellbender:remove-background: 2024-04-08 12:23:52 Total MCKP estimation time = 810.09 sec
cellbender:remove-background: Succeeded in writing CellRanger format output to file TriSeptum-3.h5
cellbender:remove-background: Succeeded in writing CellRanger format output to file TriSeptum-3_filtered.h5
cellbender:remove-background: Saved output metrics as TriSeptum-3_metrics.csv
Traceback (most recent call last):
  File "/u/home/j/jshin/.conda/envs/cellbender/bin/jupyter-nbconvert", line 5, in <module>
    from nbconvert.nbconvertapp import main
  File "/u/home/j/jshin/.conda/envs/cellbender/lib/python3.7/site-packages/nbconvert/__init__.py", line 5, in <module>
    from .exporters import *
  File "/u/home/j/jshin/.conda/envs/cellbender/lib/python3.7/site-packages/nbconvert/exporters/__init__.py", line 1, in <module>
    from .asciidoc import ASCIIDocExporter
  File "/u/home/j/jshin/.conda/envs/cellbender/lib/python3.7/site-packages/nbconvert/exporters/asciidoc.py", line 9, in <module>
    from .templateexporter import TemplateExporter
  File "/u/home/j/jshin/.conda/envs/cellbender/lib/python3.7/site-packages/nbconvert/exporters/templateexporter.py", line 25, in <module>
    from lxml.html.clean import clean_html
  File "/u/home/j/jshin/.conda/envs/cellbender/lib/python3.7/site-packages/lxml/html/clean.py", line 21, in <module>
    ) from None
ImportError: lxml.html.clean module is now a separate project lxml_html_clean.
Install lxml[html_clean] or lxml_html_clean directly.
Traceback (most recent call last):
  File "/u/home/j/jshin/.conda/envs/cellbender/bin/jupyter-nbconvert", line 5, in <module>
    from nbconvert.nbconvertapp import main
  File "/u/home/j/jshin/.conda/envs/cellbender/lib/python3.7/site-packages/nbconvert/__init__.py", line 5, in <module>
    from .exporters import *
  File "/u/home/j/jshin/.conda/envs/cellbender/lib/python3.7/site-packages/nbconvert/exporters/__init__.py", line 1, in <module>
    from .asciidoc import ASCIIDocExporter
  File "/u/home/j/jshin/.conda/envs/cellbender/lib/python3.7/site-packages/nbconvert/exporters/asciidoc.py", line 9, in <module>
    from .templateexporter import TemplateExporter
  File "/u/home/j/jshin/.conda/envs/cellbender/lib/python3.7/site-packages/nbconvert/exporters/templateexporter.py", line 25, in <module>
    from lxml.html.clean import clean_html
  File "/u/home/j/jshin/.conda/envs/cellbender/lib/python3.7/site-packages/lxml/html/clean.py", line 21, in <module>
    ) from None
ImportError: lxml.html.clean module is now a separate project lxml_html_clean.
Install lxml[html_clean] or lxml_html_clean directly.
mv: cannot stat 'tmp.report.nbconvert.html': No such file or directory
rm: cannot remove 'tmp.report.nbconvert.ipynb': No such file or directory
cellbender:remove-background: Unable to create report.
cellbender:remove-background: Traceback (most recent call last):
  File "/u/home/j/jshin/.conda/envs/cellbender/lib/python3.7/site-packages/cellbender/remove_background/run.py", line 351, in compute_output_denoised_counts_reports_metrics
    output=html_report_file,
  File "/u/home/j/jshin/.conda/envs/cellbender/lib/python3.7/site-packages/cellbender/remove_background/report.py", line 82, in run_notebook_make_html
    title=('CellBender: ' + os.path.basename(output).replace('_report.html', '')),
  File "/u/home/j/jshin/.conda/envs/cellbender/lib/python3.7/site-packages/cellbender/remove_background/report.py", line 59, in _postprocess_html
    with open(file, mode='r') as f:
FileNotFoundError: [Errno 2] No such file or directory: 'TriSeptum-3_report.html'

cellbender:remove-background: Completed remove-background.
cellbender:remove-background: 2024-04-08 12:24:14

Job 2607826 ended on:    g7
Job 2607826 ended on:    Mon Apr 8 12:24:15 PDT 2024
 
