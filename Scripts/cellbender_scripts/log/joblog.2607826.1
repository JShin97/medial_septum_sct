Job 2607826 started on:    g6
Job 2607826 started on:    Mon Apr 8 12:01:45 PDT 2024
 
cellbender:remove-background: Command:
cellbender remove-background --input /u/home/j/jshin/scratch/medial_septum_sct/Data/Raw/Counts/TriSeptum-22/outs/raw_feature_bc_matrix.h5 --output TriSeptum-22.h5 --cuda
cellbender:remove-background: CellBender 0.3.0
cellbender:remove-background: (Workflow hash 7097df5b52)
cellbender:remove-background: 2024-04-08 12:01:54
cellbender:remove-background: Running remove-background
cellbender:remove-background: Loading data from /u/home/j/jshin/scratch/medial_septum_sct/Data/Raw/Counts/TriSeptum-22/outs/raw_feature_bc_matrix.h5
cellbender:remove-background: CellRanger v3 format
cellbender:remove-background: Features in dataset: 32285 Gene Expression
cellbender:remove-background: Trimming features for inference.
cellbender:remove-background: 27086 features have nonzero counts.
cellbender:remove-background: Prior on counts for cells is 968
cellbender:remove-background: Prior on counts for empty droplets is 21
cellbender:remove-background: Excluding 9934 features that are estimated to have <= 0.1 background counts in cells.
cellbender:remove-background: Including 17152 features in the analysis.
cellbender:remove-background: Trimming barcodes for inference.
cellbender:remove-background: Excluding barcodes with counts below 10
cellbender:remove-background: Using 31080 probable cell barcodes, plus an additional 37178 barcodes, and 122248 empty droplets.
cellbender:remove-background: Largest surely-empty droplet has 25 UMI counts.
cellbender:remove-background: Attempting to unpack tarball "ckpt.tar.gz" to /work/2607826.1.gpu_RTX2080Ti.q/tmpk9oor_2m
cellbender:remove-background: Successfully unpacked tarball to /work/2607826.1.gpu_RTX2080Ti.q/tmpk9oor_2m
/work/2607826.1.gpu_RTX2080Ti.q/tmpk9oor_2m/7097df5b52_test.loaderstate
/work/2607826.1.gpu_RTX2080Ti.q/tmpk9oor_2m/7097df5b52_model.torch
/work/2607826.1.gpu_RTX2080Ti.q/tmpk9oor_2m/7097df5b52_random.cuda
/work/2607826.1.gpu_RTX2080Ti.q/tmpk9oor_2m/7097df5b52_params.pyro
/work/2607826.1.gpu_RTX2080Ti.q/tmpk9oor_2m/7097df5b52_optim.torch
/work/2607826.1.gpu_RTX2080Ti.q/tmpk9oor_2m/7097df5b52_train.loaderstate
/work/2607826.1.gpu_RTX2080Ti.q/tmpk9oor_2m/7097df5b52_args.npy
/work/2607826.1.gpu_RTX2080Ti.q/tmpk9oor_2m/7097df5b52_optim.pyro
/work/2607826.1.gpu_RTX2080Ti.q/tmpk9oor_2m/7097df5b52_random.pyro
/work/2607826.1.gpu_RTX2080Ti.q/tmpk9oor_2m/posterior.h5
cellbender:remove-background: Loaded partially-trained checkpoint from ckpt.tar.gz
cellbender:remove-background: Checkpoint loaded successfully.
cellbender:remove-background: Running inference...
cellbender:remove-background: 2024-04-08 12:02:32
cellbender:remove-background: Inference procedure complete.
cellbender:remove-background: Attempting to unpack tarball "ckpt.tar.gz" to /work/2607826.1.gpu_RTX2080Ti.q/tmp3g1h9l3o
cellbender:remove-background: Successfully unpacked tarball to /work/2607826.1.gpu_RTX2080Ti.q/tmp3g1h9l3o
/work/2607826.1.gpu_RTX2080Ti.q/tmp3g1h9l3o/7097df5b52_test.loaderstate
/work/2607826.1.gpu_RTX2080Ti.q/tmp3g1h9l3o/7097df5b52_model.torch
/work/2607826.1.gpu_RTX2080Ti.q/tmp3g1h9l3o/7097df5b52_random.cuda
/work/2607826.1.gpu_RTX2080Ti.q/tmp3g1h9l3o/7097df5b52_params.pyro
/work/2607826.1.gpu_RTX2080Ti.q/tmp3g1h9l3o/7097df5b52_optim.torch
/work/2607826.1.gpu_RTX2080Ti.q/tmp3g1h9l3o/7097df5b52_train.loaderstate
/work/2607826.1.gpu_RTX2080Ti.q/tmp3g1h9l3o/7097df5b52_args.npy
/work/2607826.1.gpu_RTX2080Ti.q/tmp3g1h9l3o/7097df5b52_optim.pyro
/work/2607826.1.gpu_RTX2080Ti.q/tmp3g1h9l3o/7097df5b52_random.pyro
/work/2607826.1.gpu_RTX2080Ti.q/tmp3g1h9l3o/posterior.h5
cellbender:remove-background: Loaded pre-computed posterior from posterior.h5
cellbender:remove-background: 2024-04-08 12:03:11

cellbender:remove-background: Saved summary plots as TriSeptum-22.pdf
cellbender:remove-background: Saved cell barcodes in TriSeptum-22_cell_barcodes.csv
cellbender:remove-background: Computing target noise counts per gene for MCKP estimator
cellbender:remove-background: Using MCKP noise targets computed for FPR 0.01
cellbender:remove-background: Computing denoised counts using mckp estimator
cellbender:remove-background: Working on chunk (1/6)
cellbender:remove-background:     [6.16 mins per chunk]
cellbender:remove-background: Working on chunk (2/6)
cellbender:remove-background: Working on chunk (3/6)
cellbender:remove-background: Working on chunk (4/6)
cellbender:remove-background: Working on chunk (5/6)
cellbender:remove-background: Working on chunk (6/6)
cellbender:remove-background: 2024-04-08 12:43:00 Total MCKP estimation time = 2254.43 sec
cellbender:remove-background: Succeeded in writing CellRanger format output to file TriSeptum-22.h5
cellbender:remove-background: Succeeded in writing CellRanger format output to file TriSeptum-22_filtered.h5
cellbender:remove-background: Saved output metrics as TriSeptum-22_metrics.csv
Traceback (most recent call last):
  File "/u/home/j/jshin/.conda/envs/cellbender/bin/jupyter-nbconvert", line 5, in <module>
    from nbconvert.nbconvertapp import main
  File "/u/home/j/jshin/.conda/envs/cellbender/lib/python3.7/site-packages/nbconvert/__init__.py", line 5, in <module>
    from .exporters import *
  File "/u/home/j/jshin/.conda/envs/cellbender/lib/python3.7/site-packages/nbconvert/exporters/__init__.py", line 1, in <module>
    from .asciidoc import ASCIIDocExporter
  File "/u/home/j/jshin/.conda/envs/cellbender/lib/python3.7/site-packages/nbconvert/exporters/asciidoc.py", line 9, in <module>
    from .templateexporter import TemplateExporter
  File "/u/home/j/jshin/.conda/envs/cellbender/lib/python3.7/site-packages/nbconvert/exporters/templateexporter.py", line 25, in <module>
    from lxml.html.clean import clean_html
  File "/u/home/j/jshin/.conda/envs/cellbender/lib/python3.7/site-packages/lxml/html/clean.py", line 21, in <module>
    ) from None
ImportError: lxml.html.clean module is now a separate project lxml_html_clean.
Install lxml[html_clean] or lxml_html_clean directly.
Traceback (most recent call last):
  File "/u/home/j/jshin/.conda/envs/cellbender/bin/jupyter-nbconvert", line 5, in <module>
    from nbconvert.nbconvertapp import main
  File "/u/home/j/jshin/.conda/envs/cellbender/lib/python3.7/site-packages/nbconvert/__init__.py", line 5, in <module>
    from .exporters import *
  File "/u/home/j/jshin/.conda/envs/cellbender/lib/python3.7/site-packages/nbconvert/exporters/__init__.py", line 1, in <module>
    from .asciidoc import ASCIIDocExporter
  File "/u/home/j/jshin/.conda/envs/cellbender/lib/python3.7/site-packages/nbconvert/exporters/asciidoc.py", line 9, in <module>
    from .templateexporter import TemplateExporter
  File "/u/home/j/jshin/.conda/envs/cellbender/lib/python3.7/site-packages/nbconvert/exporters/templateexporter.py", line 25, in <module>
    from lxml.html.clean import clean_html
  File "/u/home/j/jshin/.conda/envs/cellbender/lib/python3.7/site-packages/lxml/html/clean.py", line 21, in <module>
    ) from None
ImportError: lxml.html.clean module is now a separate project lxml_html_clean.
Install lxml[html_clean] or lxml_html_clean directly.
mv: cannot stat 'tmp.report.nbconvert.html': No such file or directory
rm: cannot remove 'tmp.report.nbconvert.ipynb': No such file or directory
cellbender:remove-background: Unable to create report.
cellbender:remove-background: Traceback (most recent call last):
  File "/u/home/j/jshin/.conda/envs/cellbender/lib/python3.7/site-packages/cellbender/remove_background/run.py", line 351, in compute_output_denoised_counts_reports_metrics
    output=html_report_file,
  File "/u/home/j/jshin/.conda/envs/cellbender/lib/python3.7/site-packages/cellbender/remove_background/report.py", line 82, in run_notebook_make_html
    title=('CellBender: ' + os.path.basename(output).replace('_report.html', '')),
  File "/u/home/j/jshin/.conda/envs/cellbender/lib/python3.7/site-packages/cellbender/remove_background/report.py", line 59, in _postprocess_html
    with open(file, mode='r') as f:
FileNotFoundError: [Errno 2] No such file or directory: 'TriSeptum-22_report.html'

cellbender:remove-background: Completed remove-background.
cellbender:remove-background: 2024-04-08 12:44:16

Job 2607826 ended on:    g6
Job 2607826 ended on:    Mon Apr 8 12:44:17 PDT 2024
 
